#summary centos6 smrt install doc (v1)

= Introduction =
This assumes a clean install of CentOS6 with sudo and all base system updates applied.

* Table of Contents *
<wiki:toc max_depth="2" />

= Details =
== Dependencies ==
----
 # install the [ClientInstall_v1 client]
 # Install the following dependencies
{{{
$ sudo yum -y install sudo bind-utils rng-tools bind
}}}
 # import the fedoraproject EPEL-6 gpg key
{{{
$ sudo rpm --import http://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-6
}}}
 # install some 3rd party dependencies
{{{
$ wget http://dl.fedoraproject.org/pub/epel/6/x86_64/zeromq-2.1.9-1.el6.x86_64.rpm
$ wget http://dl.fedoraproject.org/pub/epel/6/x86_64/zeromq-devel-2.1.9-1.el6.x86_64.rpm
$ sudo rpm -iv zeromq-2.1.9-1.el6.x86_64.rpm zeromq-devel-2.1.9-1.el6.x86_64.rpm
}}}
 # install the baseline perl modules
{{{
$ sudo yum -y install libxml2 libxml2-devel perl-XML-LibXML perl-XML-RSS perl-JSON perl-XML-Parser  perl-Net-DNS perl-DateTime-Format-DateParse perl-IO-Socket-INET6 perl-Date-Manip perl-IO-Socket-SSL
}}}
 # install the remaining CPAN modules (PERL_MM_USE_DEFAULT=1 will auto "yes" to the prompts)
{{{
$ sudo PERL_MM_USE_DEFAULT=1 perl -MCPAN -e 'install Net::Abuse::Utils,Linux::Cpuinfo,Net::Abuse::Utils::Spamhaus,Parse::Range,ZeroMQ,Sys::MemInfo,File::Type,LWP::UserAgent,Text::CSV,XML::RSS'
}}}
 # Net-SSLeay > 1.49 has some build issues and perl-Net-SSLeay that comes with CentOS6 is too old, therefore we must install 1.49 manually:
{{{
$ wget http://search.cpan.org/CPAN/authors/id/M/MI/MIKEM/Net-SSLeay-1.49.tar.gz
$ tar -zxvf Net-SSLeay-1.49.tar.gz
$ cd Net-SSLeay-1.49
$ perl Makefile.PL
$ sudo make install
}}}
== System Setup ==
----
=== Resolve Config ===
We need to point our dns resoultion to the local nameserver instance.
 # modify /etc/sysconfig/network-scripts/ifcfg-eth0 with the following DNS1="127.0.0.1" line
{{{
echo "DNS1=127.0.0.1" | sudo tee -a /etc/sysconfig/network-scripts/ifcfg-eth0
}}}
 # restart networking
{{{
$ sudo ifdown eth0 && sudo ifup eth0
}}}
 # Verify resolveconf
{{{
cat /etc/resolv.conf
}}}
 Should look similar to:
{{{
# Generated by NetworkManager
nameserver 127.0.0.1
...
}}}
=== Default CIF user ===
----
 # create your "cif" user/group (the configure script will default to this user "cif")
{{{
$ sudo adduser cif
}}}
 # change the default home permissions
{{{
$ sudo chmod 770 /home/cif
}}}
=== Random Number Generator ===
----
The "rngd' service [https://www.centos.org/modules/newbb/viewtopic.php?topic_id=36209 helps] with random number generation (mainly used for generating security certificates in bind and apache, speeds up the entropy process).
 # modify /etc/sysconfig/rngd to use /dev/urandom as the seed
{{{
# Add extra options here
EXTRAOPTIONS="-r /dev/urandom"
}}}
 # restart rngd
{{{
$ sudo service rngd restart
}}}
=== Finishing Up ===
----
 # enable services at startup
{{{
$ sudo chkconfig --levels 345 named on
$ sudo chkconfig --levels 345 rngd on
}}}
 # Continue with the cif-smrt [SmrtInstall_v1#Package installation]