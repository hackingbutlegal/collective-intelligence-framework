#summary centos 6 install doc (v1)

= Introduction =

This doc assumes a base CentOS6 x64 minimal base install.

= Details =
== Dependencies Installation ==
 # make sure you have sudo installed
 # install server dependencies
{{{
$ sudo yum install rng-tools postgresql-server httpd httpd-devel mod_ssl gcc make expat expat-devel mod_perl mod_perl-devel perl-Digest-SHA perl-Digest-SHA libxml2 libxml2-devel perl-XML-LibXML uuid-perl perl-DBD-Pg bind perl-XML-RSS perl-JSON rsync perl-Unicode-String perl-Config-Simple perl-Module-Pluggable perl-MIME-Lite perl-CPAN perl-Class-Accessor perl-YAML perl-XML-Parser uuid uuid-devel uuid-perl perl-Text-Table perl-Net-DNS perl-DateTime-Format-DateParse perl-IO-Socket-INET6 perl-Regexp-Common-net openssl-devel perl-Module-Install htop wget perl-Net-SSLeay perl-Class-Trigger perl-Date-Manip libuuid-devel
}}}
 # install some 3rd party dependencies
{{{
$ wget http://dl.fedoraproject.org/pub/epel/6/x86_64/libapreq2-2.13-1.el6.x86_64.rpm
$ wget http://dl.fedoraproject.org/pub/epel/6/x86_64/libapreq2-devel-2.13-1.el6.x86_64.rpm
$ wget http://dl.fedoraproject.org/pub/epel/6/x86_64/perl-libapreq2-2.13-1.el6.x86_64.rpm
$ wget http://dl.fedoraproject.org/pub/epel/6/x86_64/zeromq-2.1.9-1.el6.x86_64.rpm
$ wget http://dl.fedoraproject.org/pub/epel/6/x86_64/zeromq-devel-2.1.9-1.el6.x86_64.rpm
$ sudo rpm -i libapreq2-2.13-1.el6.x86_64.rpm libapreq2-devel-2.13-1.el6.x86_64.rpm perl-libapreq2-2.13-1.el6.x86_64.rpm zeromq-2.1.9-1.el6.x86_64.rpm zeromq-devel-2.1.9-1.el6.x86_64.rpm
}}}
 # install the remaining CPAN modules
 # Net-SSLeay > 1.49 has some build issues and perl-Net-SSLeay that comes with CentOS6 is too old, therefore we must install 1.49 manually:
{{{
$ wget http://search.cpan.org/CPAN/authors/id/M/MI/MIKEM/Net-SSLeay-1.49.tar.gz
$ tar -zxvf Net-SSLeay-1.49.tar.gz
$ cd Net-SSLeay-1.49
$ perl Makefile.PL
$ sudo make install
}}}
 # IO::Socket::INET6 needs to be installed manually (with force)
{{{
$ wget http://search.cpan.org/CPAN/authors/id/S/SH/SHLOMIF/IO-Socket-INET6-2.69.tar.gz
$ tar -zxvf IO-Socket-INET6-2.69.tar.gz
$ cd IO-Socket-INET6-2.69
$ perl Makefile.PL && sudo make install
}}}
 # the rest should install no problem
{{{
$ sudo PERL_MM_USE_DEFAULT=1 perl -MCPAN -e 'install Net::Abuse::Utils,Linux::Cpuinfo,Google::ProtocolBuffers,Iodef::Pb::Simple,Compress::Snappy,Net::Abuse::Utils::Spamhaus,Net::DNS::Match,Snort::Rule,Parse::Range,Log::Dispatch,ZeroMQ,Sys::MemInfo, JSON::XS,File::Type,LWP::UserAgent,Class::Trigger,LWP::Protocol::https,Class::DBI,Net::Patricia'
}}}
== System Setup ==
=== Postgres ===
The default installation of Postgres is a little out of sync with the rest of the doc, we need to do some symlinking
{{{
$ sudo mkdir -p /etc/postgresql/8.4/main
$ sudo chown -R postgres:postgres /etc/postgresql
$ sudo chmod 760 -R /etc/postgresql
$ sudo ln -sf /var/lib/pgsql/data/postgresql.conf /etc/postgresql/8.4/main/postgresql.conf
$ sudo ln -sf /var/lib/pgsql/data/pg_hba.conf /etc/postgresql/8.4/main/pg_hba.conf
}}}