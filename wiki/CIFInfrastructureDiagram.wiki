#summary Diagrams of different infrastructure layouts

= Introduction =

cifv1 is architected in a way that allows it's major components to be distributed among many hosts when a single host becomes resource constrained. 

=== Key ===

==== cif-client ====
 *  query cif
 * submit data to cif
 * get feeds from cif

==== cif-smart ====
 * parse data sets
 * run post processors on parsed data sets

==== cif-router ====
 * ?
 * ?

==== postgresql ====
 * data store

== One server ==

With one server every component is installed on the same host and must share resources (cpu and i/o) with the other components. 

<table border="0" cellspacing="25" valign="center">
<tbody>
<tr>
<td align="center"><img src="http://collective-intelligence-framework.googlecode.com/files/cifv1_one_server.png" width="400"></img></td>
</tr>
</tbody>
</table>

== Two servers ==

When you hit resource constraints with one server, it is likely the first component you would split out is the postgresql database.

<table border="0" cellspacing="25" valign="center">
<tbody>
<tr>
<td align="center"><img src="http://collective-intelligence-framework.googlecode.com/files/cifv1_two_servers.png" width="500"></img></td>
</tr>
</tbody>
</table>

== Six servers ==

With three or more servers you can dedicate servers per component. This allows you to add additional servers as needed. 

This also gives high availability capabilities as demonstrated below with DNS round robin between two cif-routers and a postgresql in a master / slave configuration. 

You may notice that postgresql could become the ultimate bottleneck when dealing with big data. In cifv2 HBase will be a optional data store, stay tuned! 

<table border="0" cellspacing="25" valign="center">
<tbody>
<tr>
<td align="center"><img src="http://collective-intelligence-framework.googlecode.com/files/cifv1_six_servers.png" width="600"></img></td>
</tr>

</tbody>
</table>